# RBenchmarking

## Directories and files descriptions:

* `RHPCBenchmark` - This is the R HPC benchmark package directory containing source code and vignette.  The package directory does not contain autogenerated directories and files needed for a complete R package.  To generate manual page documentation and perform checks on the package use the `update_benchmark_package.R` script.  To generate the package use, `generate_benchmark_package.R`
 
* `RHPCBenchmarkData` - This is the companion data package to the R HPC benchmark package.  It contains the sparse matrices used by the sparse matrix benchmark function in the R HPC benchmark package.  To generate manual page documentation and perform checks on the package use the `update_data_package.R` script.  To generate the package, use `generate_benchmark_package.R`.

* `dense_matrix_driver.R` - This script runs the dense matrix microbenchmarks.

* `sparse_matrix_driver.R` - This script runs the sparse matrix microbenchmarks.

* `machine_learning_driver.R` - This script runs the machine learning microbenchmarks.

* `dense_matrix_driver_win.R` - Tests the dense matrix benchmark on the IUAnyware Microsoft Windows R environment.

* `sparse_matrix_driver_win.R` - Tests the sparse matrix benchmark on the IUAnyware Microsoft Windows R environment.

* `test_machine_learning.R` - Tests the machine learning benchmark on the IUAnyware Microsoft Windows R environment.

* `update_benchmark_package.R` - Builds the manual page documentation for all R objects in the `RHPCBenchmark` package and performs validation checks.

* `update_data_package.R` - Build the manual page documentation for all R
objects in the `RHPCBenchmarkData` package and performs validation checks.

* `update_benchmark_vignettes.R` - This script builds and installs the benchmark package vignettes as part of a full package install.  Installaing the package is the only way to view the vignettes for proofreading.

* `update_data_vignettes.R` - This script builds and installs the data vignettes as part of a full package install.  Installaing the package is the only way to view the vignettes for proofreading.

* `build_benchmark_package.R` - Builds the benchmark package.

* `build_data_package.R` - Builds the companion data package.

## Package validation and build process

To build the R HPC benchmark package:
1. Run the `update_benchmark_package.R` script
2. Fix any validation WARNINGs and ERRORs reported in the standard output
   and log file
3. Repeat steps 1 and 2 until problems are resolved
4. Run the `build_benchmark_package.R` script
5. Run the following on the built package for further validation:
   `R CMD check --as-cran` [gzipped tar file package]
6. Fix any validation WARNINGs and ERRORs reported in the standard output and
   log file
7. Repeat process from step 5 until no WARNINGs or ERRORs are detected

A similar process applies to checking and building the companion `RHPCBenchmarkData` package.
